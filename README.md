![Sourcebit logo](https://raw.githubusercontent.com/stackbithq/sourcebit/master/Sourcebit.png)

[![npm version](https://badge.fury.io/js/sourcebit.svg)](https://badge.fury.io/js/sourcebit)

> Sourcebit helps developers build data-driven JAMstack sites by pulling data from any third-party resource.

## Introduction

Sourcebit connects to multiple data sources, for example data in a headless CMS like Contentful or Sanity, to a destination, such as a JAMstack site built using Jekyll or Hugo. The easiest way to understand how this works is to see it in action via our [video demo on YouTube](https://www.youtube.com/watch?v=BrZbWMXB4TQ).

[![](https://img.youtube.com/vi/BrZbWMXB4TQ/0.jpg)](https://www.youtube.com/watch?v=BrZbWMXB4TQ)

Sourcebit works through the use of two types of plugins:

- _Source plugins_ are responsible for fetching data, normalizing it to a standard format, and placing the resulting entries on sets of data called _data buckets_. Subsequently, any combination of plugins may consume, transform and persist these data buckets in any way they like.
- _Target plugins_ are tasked with writing data into a format and location that other programs – such as static site generators – expect. A target plugin is not required, however. This is useful for situations where the source will be called via code, such as in a site built with tools like Next.js.

```
           +----------------+  +---------------+  +-----------------+
           |                |  |               |  |                 |
           |   Contentful   |  |    DatoCMS    |  |     Airtable    |
           |                |  |               |  |                 |
           +--------\-------+  +-------|-------+  +--------/--------+
                     \                 |                  /
                      \                |                 /
                       \               |                /
                        \              |               /
          +--------------|-------------|--------------|-------------+
          |              |             |              |             |
          |        +-----|-----+ +-----------+  +-----|-----+       |
        S |        | (Plugin)  | | (Plugin)  |  | (Plugin)  |       | S
        O |        |           | |           |  |           |       | O
        U |        +-----|-----+ +-----|-----+  +-----|-----+       | U
        R |              |             |              |             | R
        C |              |             |              |             | C
        E |        +-----|-----+ +-----|-----+  +-----|-----+       | E
        B |        | (Plugin)  | | (Plugin)  |  | (Plugin)  |       | B
        I |        |           | |           |  |           |       | I
        T |        +-----|-----+ +-----|-----+  +-----|-----+       | T
          |              |             |              |             |
          +--------------|-------------|--------------|-------------+
                        /              |               \
                       /               |                \
                      /                |                 \
                     /                 |                  \
                    /                  |                   \
          +--------/--------+ +--------|-------+   +----------------+
          |                 | |                |   |                |
          |     Next.js     | |     Jekyll     |   |      Hugo      |
          |                 | |                |   |                |
          +-----------------+ +----------------+   +----------------+

```

## Getting Started

To ease the process of configuring Sourcebit, we've created a command-line tool that provides an interactive setup process that will install the project and any necessary plugins. It asks a series of questions defined by each plugin and generates the necessary configuration file (`sourcebit.js`) so that you can get up and running in no time.

To start this process, in your project directory run `npx create-sourcebit` or, if you've already installed Sourcebit, `npm init sourcebit`.

### Manual Installation

Sourcebit is distributed as an [npm module](https://www.npmjs.com/package/sourcebit). We recommend using the interactive setup process, but if you would like to manually install it and add it as a dependency to your project, run:

```
npm install sourcebit --save
```

### Manual Configuration

The interactive setup process will generate the necessary configuration for you. Manual configuration can be useful in scenarios where you need to customize the existing behavior generated by the setup process or if you are creating a specific configuration that the setup process does not yet support.

Everything about Sourcebit, including its plugins and their parameters, is configured in a JavaScript object that lives in a file called `sourcebit.js`. Each plugin can specify options and/or functions as seen in the basic code example below.

It looks something like this:

```js
module.exports = {
  plugins: [
    {
      module: require("sourcebit-some-plugin-1"),
      options: {
        pluginOption1: "foo",
        pluginOptino2: "bar"
      }
    },
    {
      module: require("sourcebit-some-plugin-2"),
      options: {
        pluginFunction1: (a, b) => a + b
      }
    }
  ]
};
```

It's important to note that while every plugin block is defined with the `module` and `options` properties, the actual options passed to each options block varies widely and is defined and documented by each plugin.

## Usage

### As a CommonJS module

To use Sourcebit as a CommonJS module, include it in your project and call its `fetch` method.

```js
const sourcebit = require("sourcebit");
const sourcebitConfig = require("./sourcebit.js");

sourcebit.fetch(sourcebitConfig).then(data => {
  console.log(data);
});
```

### As a command-line tool

To use Sourcebit as a command-line tool, once it is installed, run the `sourcebit fetch` command in your project directory.

```
$ sourcebit fetch
```

Note that if you do not have your local npm_modules on your PATH, you will need to run `./node_modules/.bin/sourcebit fetch` or [follow the instructions here](https://coderwall.com/p/i5z1cg/automatically-update-path-with-proper-node_modules-bin) to update your PATH.

When working on content in the CMS, you can automatically update content locally with changes made in the CMS by using the `--watch` flag.

```
$ sourcebit fetch --watch
```

## Plugins

### Source plugins

- [`sourcebit-sample-plugin`](http://npmjs.com/package/sourcebit-sample-plugin): A sample plugin with mock data, for demonstration/educational purposes.
- [`sourcebit-source-contentful`](http://npmjs.com/package/sourcebit-source-contentful): A source plugin for the [Contentful](https://www.contentful.com/) headless CMS.

### Target plugins

- [`sourcebit-target-jekyll`](http://npmjs.com/package/sourcebit-target-jekyll): A target plugin for the [Jekyll](https://www.jekyllrb.com/) static site generator.

## Contributing

If you'd like to contribute to Sourcebit, either by adding a feature to the core application or by creating a brand new plugin, check out our [contributing guidelines](https://github.com/stackbithq/sourcebit/blob/master/CONTRIBUTING.md).
